#include "boias.h"

extern SemaphoreHandle_t preProcFramReadyMsgQ;
extern QueueHandle_t framesRdy;

float deita[120][6] = {
{ +2376,  -5714, +16327,  -2846,   -247,  +1128},
{ +2296,  -5555, +16496,  -3142,     -8,  +1429},
{ +2069,  -5340, +17146,  -2985,   +233,  +1507},
{ +1907,  -5052, +17627,  -2445,    +12,  +1572},
{ +1778,  -4990, +17774,  -2200,   -386,  +1380},
{ +1808,  -5234, +17902,  -2237,   -833,  +1157},
{ +1773,  -5339, +17962,  -2047,  -1341,  +1002},
{ +1581,  -5648, +18234,  -1824,  -1750,   +797},
{ +1454,  -5585, +18338,  -1429,  -2025,   +597},
{ +1480,  -5536, +18676,  -1261,  -1912,   +560},
{ +1368,  -5543, +18943,  -1251,  -1720,   +371},
{ +1204,  -5461, +19141,  -1221,   -735,   +204},
{  +922,  -5368, +19384,  -1321,    +21,    +90},
{  +742,  -5537, +19332,  -1380,   +232,     +2},
{  +516,  -5456, +19474,  -1290,    +34,    +31},
{  +755,  -5302, +19014,   -972,   -282,   +135},
{ +1280,  -5124, +18498,   -797,   -492,    +94},
{ +1491,  -4876, +18362,   -698,   -481,    -44},
{ +1642,  -4754, +18322,   -510,   -678,   -100},
{ +1560,  -4984, +18478,   -336,   -889,    -60},
{ +1462,  -5025, +18353,   -244,   -850,     +9},
{ +1423,  -4802, +18073,   -134,   -570,    +67},
{ +1470,  -4795, +18075,   -415,   -287,   +166},
{ +1476,  -4848, +18148,   -761,    -53,   +279},
{   -40,  -1394, +18288,   -378,   +320,   -742},
{  +339,  -1559, +18295,   -378,   +328,   -423},
{  +374,  -1635, +18490,   -554,   +196,   +272},
{  +171,   -705, +18677,   -345,    +90,   +892},
{  +520,   -288, +18656,    -49,   -453,   +838},
{  +928,   -219, +18365,   +304,   -710,   +654},
{ +1763,  -1243, +17759,   +281,   -418,   +713},
{ +1293,   -974, +18210,    -78,     -6,   +603},
{  +684,  -1020, +18526,   -355,    -78,   +511},
{  +582,  -1204, +18720,   -520,   -452,   +406},
{  +551,  -1201, +18537,   -419,   -438,   +315},
{  +736,  -1419, +19003,   -385,   -166,   +519},
{  +639,  -1639, +19733,   -505,   +184,   +704},
{  +470,  -1609, +20468,   -722,   +587,   +905},
{  +297,  -1839, +21127,  -1078,  +1005,  +1066},
{   -42,  -2251, +21629,  -1150,  +1448,  +1331},
{  -417,  -2566, +22408,   -774,  +1588,  +1229},
{  -897,  -2531, +23032,   +134,  +1516,   +807},
{  -641,  -2875, +23182,  +1134,  +1136,   +272},
{  -263,  -3086, +23244,  +1886,   +544,   -140},
{   +69,  -3051, +23036,  +2797,   -304,   -301},
{  +165,  -3003, +23062,  +3511,   -956,   -487},
{  +403,  -2504, +22872,  +4601,  -1445,   -299},
{  +518,  -2343, +22991,  +5671,  -1598,   -458},
{  +492,  -2361, +23013,  +6193,  -1424,   -343},
{  +451,  -2031, +22917,  +6331,  -1136,   -227},
{  +210,  -2256, +23040,  +6710,   -783,   -300},
{   -80,  -2354, +22978,  +7251,   -521,   -505},
{  -121,  -2231, +22540,  +8333,   -607,   -609},
{  -155,  -2131, +21719,  +8538,   -781,   -699},
{   +42,  -2503, +21141,  +8641,  -1061,   -669},
{    -5,  -2167, +20763,  +8649,  -1253,   -574},
{    +6,  -1676, +19861,  +8643,  -1329,   -613},
{  +124,  -1803, +19234,  +7406,  -1123,   -124},
{  +341,  -1788, +18351,  +9001,  -1318,   -603},
{  +221,  -1628, +17118,  +7885,  -1560,   -241},
{  +773,  -1255, +16129,  +7232,  -2288,   -297},
{  +327,  -2137, +15879,  +7044,  -1601,   -166},
{  +618,  -1712, +15135,  +6553,  -1193,     +8},
{  +422,  -1978, +14268,  +6104,   -866,    +83},
{   +68,  -1975, +14805,  +5516,   -553,    +11},
{  +154,  -2275, +14053,  +5094,   -454,    -70},
{  -117,  -2629, +13709,  +4181,   -278,   -195},
{  -465,  -2813, +13151,  +3355,    +32,   -243},
{  -793,  -3116, +13020,  +2662,    +75,   -304},
{ -1291,  -3212, +13063,  +2138,    +45,   -443},
{ -1495,  -2979, +12794,  +2013,    +71,   -840},
{ -1586,  -3397, +13088,  +1952,   +167,  -1166},
{ -1839,  -3595, +13367,  +1503,   +174,  -1239},
{ -2184,  -3357, +13651,   +848,   +204,  -1149},
{ -2655,  -3063, +13913,   +668,   +375,  -1300},
{ -2999,  -3187, +14537,   +463,   +409,  -1566},
{ -3326,  -3405, +14845,    +55,   +409,  -1983},
{ -3570,  -3611, +14909,   -245,   +582,  -2377},
{ -3765,  -3956, +15282,   -319,   +807,  -2842},
{ -3975,  -4210, +15828,   -327,   +763,  -3136},
{ -3977,  -4291, +16005,   -362,   +517,  -3348},
{ -3778,  -4353, +15816,   -634,   +471,  -3654},
{ -3668,  -4358, +15800,   -894,   +742,  -4046},
{ -3688,  -4661, +16107,  -1055,   +942,  -4386},
{ -3778,  -4904, +16532,  -1135,   +865,  -4649},
{ -3805,  -4932, +16762,  -1180,   +578,  -5042},
{ -3697,  -4820, +16747,   -844,   +199,  -5487},
{ -3419,  -4946, +16794,   -598,   +458,  -6231},
{ -2958,  -5111, +17103,   -391,   +564,  -6660},
{ -2931,  -5123, +17427,   -357,   +466,  -7020},
{ -2538,  -5249, +17553,   -492,   +280,  -7356},
{ -2016,  -4975, +17572,   -561,   +176,  -7609},
{ -1514,  -4907, +17518,   -584,    +23,  -7850},
{ -1051,  -4857, +17575,   -806,    +20,  -7875},
{  -518,  -4759, +17633,   -757,    -87,  -7815},
{   -44,  -4642, +17921,   -399,   -289,  -7856},
{  +348,  -4449, +18101,   -183,   -477,  -7885},
{  +839,  -4389, +17920,    +11,   -548,  -7809},
{ +1250,  -4369, +17826,    -19,   -470,  -7651},
{ +1672,  -4284, +17864,   -108,   -404,  -7313},
{ +2082,  -4119, +17881,   -165,   -388,  -6981},
{ +2490,  -3949, +17754,    -76,   -353,  -6626},
{ +2931,  -3645, +17507,   +157,   -464,  -6247},
{ +3411,  -3519, +17230,   +339,   -571,  -5987},
{ +3826,  -3250, +16782,   +265,   -718,  -5753},
{ +4200,  -3172, +16316,   +308,   -869,  -5365},
{ +4647,  -3165, +15876,   +303,  -1225,  -4922},
{ +4863,  -2932, +15422,   -212,  -1634,  -4238},
{ +5309,  -2531, +14654,   -781,  -1834,  -3489},
{ +5595,  -2374, +14306,  -1411,  -1782,  -2541},
{ +5708,  -2167, +14195,  -1743,  -1654,  -1908},
{ +5668,  -2147, +14208,  -2205,  -1482,  -1242},
{ +5411,  -1715, +14090,  -2395,  -1502,   -871},
{ +5010,  -1941, +13995,  -2826,  -1497,   -663},
{ +4764,  -1891, +13667,  -3281,  -1578,   -442},
{ +4402,  -1885, +13512,  -3723,  -1587,    -43},
{ +3847,  -1966, +13465,  -4142,  -1612,   +202},
{ +3368,  -1608, +13298,  -4686,  -1529,   +523},
{ +3083,  -1590, +13142,  -4979,  -1498,   +753},
{ +2689,  -1771, +13285,  -5345,  -1490,   +945}
};

int id[6][20] = {
{+12, +12, +12, +12, +12, +12, +12, +12, +12, +12, +12, +12, +16, +16, +16, +16, +12, +12, +12, +12},
{+12, +12, +12, +12, +20, +28, +28, +28, +28, +28, +28, +28, +28, +28, +28, +28, +28, +28,  +4,  +4},
{ +4,  +4,  +4,  +4,  +4,  +9,  +1,  +1,  +1,  +1,  +1,  +1,  +1,  +1, +17, +17, +17, +17, +17, +17},
{+17, +17, +29, +29, +29, +29, +29, +29, +29, +29, +29, +29, +32, +32, +32, +16, +16, +16, +16, +27},
{+27, +27, +27, +27, +27, +27, +27, +27, +27, +27, +27, +27, +27, +27, +27, +19, +19, +19, +19, +19},
{+19, +19, +19, +19, +19, +19, +19, +19, +23, +23, +23, +12, +12, +12, +12, +32, +32, +32, +32, +32}
};

void boias(void *arg)
{
	int a = 20;
	int count = 0;
	HAL_Delay(1000);
	int *b;
	while(count < 6)
	{
		HAL_Delay(10);
		b = id[count];
		xQueueSend(framesRdy, &b, 10);
		//xQueueSend(preProcFramReadyMsgQ, &a, 10);
		count++;
	}
	a = 0;
	xQueueSend(framesRdy, &a, 10);
	//xQueueSend(preProcFramReadyMsgQ, &a, 10);
}
